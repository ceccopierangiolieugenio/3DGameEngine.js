<!DOCTYPE html>
<html>
    <head>
        <title>3DGameEngine.js</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <script type="text/javascript" src="js/Util.js"></script>
    </head>
    <body onload="main3DGameEngine();">
        <canvas id="canvasGE" style="border: solid;" width="500" height="300"></canvas>
    </body>
    <script type="text/javascript">
        Util.include("js/MainComponent.js");
        Util.include("js/Time.js");
        Util.include("js/Game.js");
        Util.include("js/Input.js");
        Util.include("js/Vector2f.js");
        Util.include("js/Vector3f.js");
        Util.include("js/Matrix4f.js");
        Util.include("js/Quaternion.js");
        Util.include("js/RenderUtil.js");
        Util.include("js/Vertex.js");
        Util.include("js/Mesh.js");
        Util.include("js/ResourceLoader.js");
        Util.include("js/Shader.js");
        Util.loadFile("shaders/basicFragment.fs", "basicFragment.fs");
        Util.loadFile("shaders/basicVertex.vs", "basicVertex.vs");

        var gl;

        function initGL(canvas) {
            try {
                gl = canvas.getContext("experimental-webgl");
                gl.viewportWidth = canvas.width;
                gl.viewportHeight = canvas.height;
            } catch (e) {
            }
            if (!gl) {
                alert("Could not initialise WebGL, sorry :-(");
            }
        }

        function main3DGameEngine() {
            Util.waitPendingAndStart(main3DGameEngine_start);
        }

        function main3DGameEngine_start() {
            var canvas = document.getElementById("canvasGE");
            initGL(canvas);
            var mainComponent = new MainComponent();
            mainComponent.start();
        }
    </script>
</html>
